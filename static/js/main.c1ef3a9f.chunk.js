(this["webpackJsonpspace-x-junior"]=this["webpackJsonpspace-x-junior"]||[]).push([[0],{16:function(e,t,a){},17:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(10),r=a.n(s),i=(a(16),a(17),a.p+"static/media/spacex-logo.e755fcbf.png"),l=a.p+"static/media/launch-home.b539e3f9.png",o=a.p+"static/media/launch-home@2x.2ac07a63.png",u=a.p+"static/media/launch-home@3x.8f2f8d9e.png",j={LOGO:i,SPACE_X_IMAGE:l,SPACE_X_RETINA_IMAGES:"".concat(l," 1x, ").concat(o," 2x, ").concat(u," 3x"),SPACE_X_API:"https://api.spacexdata.com/v3/launches",INCREMENT:1},d={LAUNCHES:"Launches",ASC:"Sort Ascending",DESC:"Sort Descending",FILTER_BY_YEAR:"Filter By Year",RELOAD:"Reload Data",LOADING:"Loading...",ERROR:"Sorry, there has been an error trying to load SpaceX data."},h=a(0),b=function(e){var t=e.classes,a=e.label,n=e.onClick;return Object(h.jsx)("button",{onClick:n,className:t,children:a})},m=a(5),p=a(9),f=a(3),x={listLaunches:Function,items:[],sort:!1,setSort:Function,filter:"",setFilter:Function,loading:!1,setLoading:Function,hasError:!1,setError:Function},O=c.a.createContext(x),_=function(){return c.a.useContext(O)},v=function(e){var t=e.children,a=c.a.useState([]),n=Object(f.a)(a,2),s=n[0],r=n[1],i=c.a.useState(!1),l=Object(f.a)(i,2),o=l[0],u=l[1],j=c.a.useState(""),d=Object(f.a)(j,2),b=d[0],x=d[1],_=c.a.useState(!1),v=Object(f.a)(_,2),g=v[0],E=v[1],S=c.a.useState(!1),N=Object(f.a)(S,2),A=N[0],Y=N[1];return Object(h.jsx)(O.Provider,{value:{listLaunches:c.a.useCallback(Object(p.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(""),E(!0),u(!1),e.prev=3,e.next=6,fetch("https://api.spacexdata.com/v4/launches").then((function(e){return e.json()}));case 6:t=e.sent,Promise.all(t.map(function(){var e=Object(p.a)(Object(m.a)().mark((function e(t){var a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n=t.rocket,fetch("https://api.spacexdata.com/v4/rockets/"+n).then((function(e){return e.json()}));case 2:a=e.sent,t.rocket_name=a.name;case 4:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(){E(!1),r(t)})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),Y(!0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])}))),[]),items:s,sort:o,setSort:u,filter:b,setFilter:x,hasError:A,setLoading:E,loading:g},children:t})},g=function(){var e=_(),t=e.filter,a=e.listLaunches;return Object(h.jsxs)("header",{className:"app__header",children:[Object(h.jsxs)("div",{className:"app__logo",children:[Object(h.jsx)("img",{src:j.LOGO,className:"app__logo-image",alt:""}),Object(h.jsx)("span",{className:"app__logo-txt",children:d.LAUNCHES})]}),Object(h.jsx)(b,{filter:t,onClick:function(){return a()},classes:"button button--reload",label:d.RELOAD,allowDisabledState:!1})]})},E=a(7),S=a(2),N=a.n(S),A=function(e){var t=e.item,a=e.index,n=t.flight_number,c=t.name,s=t.date_utc,r=t.rocket_name;return Object(h.jsxs)("li",{className:"launch-item",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{className:"flight-number",children:"#".concat(n)}),Object(h.jsx)("span",{className:"flight-name",children:"".concat(c)})]}),Object(h.jsx)("div",{className:"end-container",children:Object(h.jsxs)("span",{className:"item-details",children:[Object(h.jsx)("span",{className:"launch-date",children:new N.a(s).format("Do MMMM YYYY")}),Object(h.jsx)("span",{className:"rocket-name",children:r})]})})]},a)},Y=function(e){var t=e.items,a=e.filter,n=e.sort,c=e.hasError,s=e.loading,r=Object(E.a)(t).sort((function(e,t){var a=new N.a(e.date_utc).format("YYYYMMDD"),c=new N.a(t.date_utc).format("YYYYMMDD");return n?c-a:a-c}));return""!==a&&(r=r.filter((function(e){return new N.a(e.date_utc).format("YYYY")===a}))),c?Object(h.jsx)("span",{className:"launch-list-error-msg",children:Object(h.jsx)("p",{children:"Error requesting data from the SpaceX API."})}):s?Object(h.jsx)("div",{className:"loader",children:Object(h.jsx)("div",{className:"lds-dual-ring"})}):Object(h.jsx)("ul",{className:"launch-list",children:r.map((function(e,t){return Object(h.jsx)(A,{item:e,index:t},t)}))})},C=a(11),L=a.n(C),k=function(e){var t=e.label,a=e.classes,n=e.error,c=e.allowDisabledState,s=_(),r=s.setFilter,i=s.filter,l=s.items,o=[],u=L()(a,{disabled:c?n:""});return l.map((function(e,t){o.push(new Date(e.date_utc).getFullYear())})),o=Object(E.a)(new Set(o)),Object(h.jsxs)("select",{name:t,className:u,onChange:function(e){r(e.target.value)},value:i,children:[Object(h.jsx)("option",{value:"",children:t}),o.map((function(e,t){return Object(h.jsx)("option",{children:e},t)}))]})},D=function(){var e=_(),t=e.filter,a=e.setSort,n=e.sort,c=e.items,s=e.hasError,r=e.loading;return Object(h.jsxs)("div",{className:"app__body",children:[Object(h.jsx)("div",{children:Object(h.jsx)("img",{src:j.SPACE_X_IMAGE,srcSet:j.SPACE_X_RETINA_IMAGES,className:"app__main-image",alt:"Launch Home"})}),Object(h.jsxs)("div",{className:"app__launches",children:[Object(h.jsxs)("div",{className:"app__filters",children:[Object(h.jsx)(k,{classes:"select",label:d.FILTER_BY_YEAR,testId:"filter-button-test"}),Object(h.jsx)(b,{filter:t,classes:"button button--sort",onClick:function(){return a(!n)},label:n?d.ASC:d.DESC})]}),Object(h.jsx)(Y,{items:c,filter:t,sort:n,hasError:s,loading:r})]})]})},w=function(){var e=_().listLaunches;return c.a.useEffect((function(){e()}),[e]),Object(h.jsxs)("div",{className:"app",children:[Object(h.jsx)(g,{}),Object(h.jsx)(D,{})]})};r.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(v,{children:Object(h.jsx)(w,{})})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.c1ef3a9f.chunk.js.map